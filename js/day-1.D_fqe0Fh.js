import{c as G,a as H,d as J,b as Q,e as W,f as Y,g as ee,h as te,i as ae}from"./element-plus.yTEY50ps.js";import{r as f,n as T,aa as w,A as L,ab as V,_ as S,T as D,D as I,Z as N,ac as P,o as v,c as $,a as e,R as r,U as E,ad as U,s as ne,P as s,M as n,a1 as b,L as M,O as K,ae as oe,F as se,af as le,X as de,K as ue}from"./vendor.ojotdwHr.js";const x=(_,d)=>{const a=_.__vccOpts||_;for(const[l,t]of d)a[l]=t;return a},ie={class:"component"},ce={class:"message-area"},pe={__name:"componentA",props:{parentMessage:{type:String,default:""}},emits:["child-event"],setup(_,{emit:d}){const a=f(0),l=f(""),t=T("addLog"),g=d;w(()=>{t("組件A - beforeMount - 組件準備掛載","lifecycle")}),L(()=>{t("組件A - mounted - 組件已掛載完成","mounted")}),V(()=>{t("組件A - beforeUpdate - 組件準備更新","update")}),S(()=>{t("組件A - updated - 組件已更新完成","updated")}),D(()=>{t("組件A - beforeUnmount - 組件準備卸載","unmount")}),I(()=>{t("組件A - unmounted - 組件已卸載完成","unmounted")}),N(()=>{t("組件A - activated - Keep-alive 組件已啟用","activated")}),P(()=>{t("組件A - deactivated - Keep-alive 組件已停用","deactivated")});const A=()=>{a.value++,g("child-event",`組件A計數更新：${a.value}`)},i=()=>{l.value.trim()&&(g("child-event",l.value),l.value="")};return(p,u)=>(v(),$("div",ie,[u[1]||(u[1]=e("h2",null,"組件 A",-1)),e("p",null,"計數器: "+r(a.value),1),e("button",{onClick:A},"增加"),e("div",ce,[e("h4",null,"來自父組件的消息: "+r(_.parentMessage),1),E(e("input",{"onUpdate:modelValue":u[0]||(u[0]=k=>l.value=k),placeholder:"輸入要發送給父組件的消息"},null,512),[[U,l.value]]),e("div",{class:"button-group"},[e("button",{onClick:i},"發送消息到父組件")])])]))}},m=x(pe,[["__scopeId","data-v-0af0ddaa"]]),re={class:"component"},me={class:"message-area"},ve={__name:"componentB",props:{parentMessage:{type:String,default:""}},emits:["child-event"],setup(_,{emit:d}){const a=f(""),l=f(""),t=T("addLog"),g=d;w(()=>{t("組件B - beforeMount - 組件準備掛載","lifecycle")}),L(()=>{t("組件B - mounted - 組件已掛載完成","mounted")}),V(()=>{t("組件B - beforeUpdate - 組件準備更新","update")}),S(()=>{t("組件B - updated - 組件已更新完成","updated")}),D(()=>{t("組件B - beforeUnmount - 組件準備卸載","unmount")}),I(()=>{t("組件B - unmounted - 組件已卸載完成","unmounted")}),N(()=>{t("組件B - activated - Keep-alive 組件已啟用","activated")}),P(()=>{t("組件B - deactivated - Keep-alive 組件已停用","deactivated")});const A=()=>{l.value.trim()&&(g("child-event",l.value),l.value="")};return(i,p)=>(v(),$("div",re,[p[2]||(p[2]=e("h2",null,"組件 B",-1)),e("p",null,"文本輸入: "+r(a.value),1),E(e("input",{"onUpdate:modelValue":p[0]||(p[0]=u=>a.value=u),placeholder:"輸入一些文字"},null,512),[[U,a.value]]),e("div",me,[e("h4",null,"來自父組件的消息: "+r(_.parentMessage),1),E(e("input",{"onUpdate:modelValue":p[1]||(p[1]=u=>l.value=u),placeholder:"輸入要發送給父組件的消息"},null,512),[[U,l.value]]),e("div",{class:"button-group"},[e("button",{onClick:A},"發送消息到父組件")])])]))}},_e=x(ve,[["__scopeId","data-v-3af2d8ae"]]),fe={class:"app-container"},ge={class:"card-header"},ye={class:"card-header"},Ae={class:"time"},Be={__name:"day-1",setup(_){const d=ne(m),a=f(!0),l=f([]),t=f(""),g=()=>{const c=d.value===m?"A":"B";i(`組件${c} - 準備切換`,"lifecycle"),d.value=d.value===m?_e:m;const o=d.value===m?"A":"B";i(`切換到組件${o}`,"info")},A=()=>{if(a.value,a.value=!a.value,i(`${a.value?"開啟":"關閉"} Keep-Alive - ${a.value?"組件狀態將被保留":"組件狀態將被重置"}`,"important"),!a.value){const c=d.value===m?"A":"B";i(`組件${c} - 將被重新創建`,"lifecycle")}},i=(c,o="info")=>{l.value.unshift({message:`${new Date().toLocaleTimeString()} - ${c}`,type:o})},p=()=>{l.value=[]},u=c=>{i(`收到子組件消息: ${c}`,"info")},k=()=>{t.value.trim()&&i(`父組件發送消息: ${t.value}`,"info")},F=c=>({lifecycle:"primary",mounted:"success",update:"warning",updated:"warning",unmount:"danger",unmounted:"danger",activated:"success",deactivated:"warning",important:"danger",info:"info"})[c]||"info";return de("addLog",i),(c,o)=>{const C=H,O=J,R=Q,B=G,j=ae,z=W,X=Y,h=ee,Z=te;return v(),$("div",fe,[s(B,null,{header:n(()=>o[1]||(o[1]=[e("h2",null,"Vue 3.5 生命週期完整示例",-1)])),default:n(()=>[s(O,{wrap:""},{default:n(()=>[s(C,{type:"primary",onClick:g},{default:n(()=>[b(" 切換組件顯示: "+r(d.value===m?"A":"B"),1)]),_:1}),s(C,{type:a.value?"success":"warning",onClick:A},{default:n(()=>[b(" Keep-Alive: "+r(a.value?"開啟":"關閉"),1)]),_:1},8,["type"])]),_:1}),s(B,{class:"mt-4"},{header:n(()=>o[2]||(o[2]=[e("div",{class:"card-header"},[e("span",null,"父組件控制區")],-1)])),default:n(()=>[s(R,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=y=>t.value=y),placeholder:"輸入要發送給子組件的消息"},{append:n(()=>[s(C,{onClick:k},{default:n(()=>o[3]||(o[3]=[b("發送消息")])),_:1})]),_:1},8,["modelValue"])]),_:1}),s(B,{class:"mt-4"},{header:n(()=>[e("div",ge,[e("span",null,"當前狀態："+r(a.value?"組件狀態會保留":"組件狀態會重置"),1)])]),default:n(()=>[a.value?(v(),M(oe,{key:0},[(v(),M(K(d.value),{"parent-message":t.value,onChildEvent:u},null,40,["parent-message"]))],1024)):(v(),M(K(d.value),{"parent-message":t.value,onChildEvent:u,key:d.value===m?"A":"B"},null,40,["parent-message"]))]),_:1}),s(B,{class:"mt-4"},{header:n(()=>[e("div",ye,[o[5]||(o[5]=e("span",null,"生命週期事件日誌",-1)),s(C,{text:"",onClick:p},{default:n(()=>o[4]||(o[4]=[b("清除日誌")])),_:1})])]),default:n(()=>[s(X,{height:"300px"},{default:n(()=>[s(z,null,{default:n(()=>[(v(!0),$(se,null,le(l.value,(y,q)=>(v(),M(j,{key:q,type:F(y.type)},{default:n(()=>[e("span",Ae,r(y.message),1),e("span",{class:ue(["message",y.type])},r(y.message.split(" - ")[1]),3)]),_:2},1032,["type"]))),128))]),_:1})]),_:1})]),_:1}),s(B,{class:"mt-4"},{header:n(()=>o[6]||(o[6]=[e("div",{class:"card-header"},[e("span",null,"測試步驟")],-1)])),default:n(()=>[s(Z,{direction:"vertical",active:1},{default:n(()=>[s(h,{title:"步驟 1",description:"在組件A中增加幾次計數"}),s(h,{title:"步驟 2",description:"切換到組件B並輸入一些文字"}),s(h,{title:"步驟 3",description:"再切換回組件A"}),s(h,{title:"步驟 4",description:"關閉 Keep-Alive 重複以上步驟"}),s(h,{title:"步驟 5",description:"觀察兩種情況下的狀態保留差異"})]),_:1})]),_:1})]),_:1})])}}},be=x(Be,[["__scopeId","data-v-05ef2c92"]]);export{be as default};
